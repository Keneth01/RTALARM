<!DOCTYPE html>
<html>
<head>
  <title>Full Screen Alarm Clock</title>
  <style>
    body {
      background-color: #000; /* dark theme */
      color: #eee;
      font-family: 'Arial', sans-serif;
      text-align: center;
      padding-top: 50px;
      transition: background-color 0.5s;
    }

    h1, label {
      font-weight: 300;
      letter-spacing: 1px;
    }

    input[type="time"] {
      background-color: #111;
      color: #eee;
      border: 1px solid #444;
      padding: 8px;
      font-size: 16px;
      border-radius: 4px;
      outline: none;
    }

    button {
      background-color: #111;
      color: #eee;
      border: 1px solid #444;
      padding: 8px 16px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
    }

    button:hover {
      background-color: #222;
      color: #fff;
    }

    ul {
      list-style: none;
      padding: 0;
      margin-top: 20px;
    }

    li {
      margin: 8px 0;
      font-size: 18px;
      color: #ccc;
    }

    .deleteBtn {
      margin-left: 10px;
      background-color: #111;
      border: 1px solid #444;
      color: #eee;
      padding: 4px 8px;
      font-size: 14px;
      border-radius: 4px;
      cursor: pointer;
    }

    .deleteBtn:hover {
      background-color: #222;
      color: #fff;
    }

    #alarmDisplay {
      font-size: 40px;
      margin-top: 30px;
      font-weight: bold;
      color: #fff;
      position: relative;
      z-index: 2;
    }

    #alarmImage {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      object-fit: cover; /* fill screen */
      display: none;
      z-index: 1;
    }
  </style>
</head>
<body>
  <h1>Alarm</h1>
  <label>Choose time:</label>
  <input type="time" id="alarmInput">
  <button onclick="addAlarm()">Add Alarm</button>

  <ul id="alarmList"></ul>
  <div id="alarmDisplay"></div>
  <img id="alarmImage" src="" alt="Alarm Image">

  <script>
    let alarms = [];
    let flashInterval;

    function addAlarm() {
      const alarmTime = document.getElementById("alarmInput").value;
      if (alarmTime) {
        alarms.push(alarmTime);
        renderAlarms();
      }
    }

    function deleteAlarm(index) {
      alarms.splice(index, 1);
      renderAlarms();
    }

    function renderAlarms() {
      const list = document.getElementById("alarmList");
      list.innerHTML = "";
      alarms.forEach((time, index) => {
        const li = document.createElement("li");
        li.textContent = time;
        const delBtn = document.createElement("button");
        delBtn.textContent = "Delete";
        delBtn.className = "deleteBtn";
        delBtn.onclick = () => deleteAlarm(index);
        li.appendChild(delBtn);
        list.appendChild(li);
      });
    }

    function checkAlarms() {
      const now = new Date();
      const currentTime = now.toTimeString().slice(0,5); // HH:MM
      if (alarms.includes(currentTime)) {
        startFlashing(currentTime);
        alarms = alarms.filter(a => a !== currentTime);
        renderAlarms();
      }
    }

    function startFlashing(timeText) {
      let isImage1 = true;
      let elapsed = 0;
      const alarmDisplay = document.getElementById("alarmDisplay");
      const alarmImage = document.getElementById("alarmImage");

      alarmDisplay.textContent = timeText;
      alarmImage.style.display = "block";

      flashInterval = setInterval(() => {
        alarmImage.src = isImage1 
          ? "https://kupal.vercel.app/assets/bini-malupiton-DCnYQiMn.jpg" 
          : "https://i.ytimg.com/vi/yw1-pnmw5Jk/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLAp1ZCg5Svc-mt2pYuhMBfKcdC11w";
        isImage1 = !isImage1;
        elapsed += 500;

        if (elapsed >= 20000) { // stop after 20s
          clearInterval(flashInterval);
          alarmImage.style.display = "none";
          alarmDisplay.textContent = "";
          alert("Alarm finished!");
        }
      }, 500);
    }

    setInterval(checkAlarms, 1000);
  </script>
</body>
</html>
